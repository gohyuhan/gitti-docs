---
sidebar_position: 2
---

# インタラクティブなステージング

ファイルを個別に、または一括で確認してステージングします。

## ナビゲーション
`2` を押して **変更されたファイル** パネルにフォーカスします。

## キーバインド

| キー | アクション |
| :--- | :--- |
| `space` | ステージング/ステージング解除の切り替え |
| `ctrl+s` | すべてステージング |
| `ctrl+u` | すべてステージング解除 |
| `d` | 変更を破棄 |
| `enter` | 差分を表示 |

## ワークフロー

### 変更の破棄

変更の破棄には、誤ったデータ損失を防ぐための安全確認が含まれます。

1.  **選択**: 破棄したいファイルをハイライトします。
2.  **トリガー**: `d` を押します。
3.  **ロジックフロー**:
    - **シナリオ A (単純)**: 作業ツリーのみ、またはインデックスのみに変更がある場合。
        - **ポップアップ**: "Confirm Discard"（破棄の確認）。
    - **シナリオ B (複雑)**: 作業ツリーとインデックスの両方に変更がある場合（ステージング済みと未ステージングの変更）。
        - **ポップアップ**: "Choose Discard Type"（破棄タイプの選択 - 全てを破棄、または未ステージングを破棄）。
        - **フォローアップ**: 選択後、確認ポップアップが表示されます。
4.  **確認**: `enter` を押して確認します。

---

### 差分の表示

1.  **選択**: ファイルをハイライトします。
2.  **トリガー**: `enter` を押します。
3.  **結果**: **詳細ビュー** (右パネル) が更新され、差分が表示されます。
    - **緑**: 追加された行。
    - **赤**: 削除された行。
