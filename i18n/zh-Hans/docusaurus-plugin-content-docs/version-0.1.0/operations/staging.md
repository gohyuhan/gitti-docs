---
sidebar_position: 2
---

# 交互式暂存

逐个或批量审查并暂存更改。

## 导航
按 `2` 聚焦 **修改的文件** 面板。

## 快捷键

| 按键 | 动作 |
| :--- | :--- |
| `space` | 切换 暂存/取消暂存 |
| `ctrl+s` | 暂存所有 |
| `ctrl+u` | 取消暂存所有 |
| `d` | 丢弃更改 |
| `enter` | 查看差异 |

## 工作流

### 丢弃更改

丢弃更改包含安全检查，以防止意外数据丢失。

1.  **选择**: 高亮显示您想要丢弃的文件。
2.  **触发**: 按 `d`。
3.  **逻辑流程**:
    - **场景 A (简单)**: 文件仅在工作区或仅在暂存区有更改。
        - **弹窗**: "Confirm Discard" (确认丢弃)。
    - **场景 B (复杂)**: 文件在工作区和暂存区都有更改（部分暂存）。
        - **弹窗**: "Choose Discard Type" (选择丢弃类型 - 丢弃已暂存、丢弃未暂存或两者)。
        - **后续**: 选择后出现确认弹窗。
4.  **确认**: 按 `enter` 确认。

---

### 查看差异

1.  **选择**: 高亮显示一个文件。
2.  **触发**: 按 `enter`。
3.  **结果**: **详细视图** (右侧面板) 更新显示差异。
    - **绿色**: 新增行。
    - **红色**: 删除行。
